<md-tabs md-dynamic-height>
    <md-tab label="overview">
        <md-content class="md-padding">
            <md-card ng-repeat="x in result.getCompletedQuestionaires()"
                     ng-init="overallResult = result.getOverallResult(x.questionaire, x.answers)"
                     class="wmg-result-card">
                <md-card-content>
                    <h2 class="wmg-result-card__heading">{{x.questionaire.title}}</h2>
                    <h3>{{x.age.label}}</h3>

                    <div class="wmg-result-card__flag-container" ng-class="{
          'wmg-red': overallResult === 'RED_FLAG',
          'wmg-amber': overallResult === 'AMBER_FLAG',
          'wmg-no': overallResult === 'NO_FLAG'}">
                        <i class="material-icons">flag</i>

                        <div ng-switch="overallResult">
                            <span ng-switch-when="RED_FLAG">Red Flag</span>
                            <span ng-switch-when="AMBER_FLAG">Amber Flag</span>
                            <span ng-switch-when="NO_FLAG">No Concerns</span>
                        </div>
                    </div>
                </md-card-content>
            </md-card>


            <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col wmg-dynamic-height">
                <div class="mdl-card__title">
                    <h2 class="mdl-card__title-text">
                        If PEDS and Q-CHAT-10 are negative
                    </h2>
                </div>


                <div class="mdl-card__supporting-text mdl-card--border">
                    No further referral
                </div>

                <div class="mdl-card__actions mdl-card--border">
                    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"
                       href="http://www.resourcingparents.nsw.gov.au/page/love-talk-sing-read-play">PHR anticipatory
                        guidelines</a>
                </div>
            </div>


            <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col wmg-dynamic-height">
                <div class="mdl-card__title">
                    <h2 class="mdl-card__title-text">
                        If PEDS or Q-CHAT-10 are positive
                    </h2>
                </div>


                <div class="mdl-card__supporting-text mdl-card--border">
                    <b>Single domain concern</b>
                    consider refer to allied health specialist as below for
                    assessment and intervention

                    <table>
                        <tr>
                            <td>Receptive or expressive language/articulation/social skills–consider</td>
                            <td>consider speech & language therapist</td>
                        </tr>

                        <tr>
                            <td>fine motor or self-help</td>
                            <td>consider occupational therapist</td>
                        </tr>

                        <tr>
                            <td>gross motor</td>
                            <td>consider physiotherapist</td>
                        </tr>

                        <tr>
                            <td>learning or behaviour</td>
                            <td>consider psychologist</td>
                        </tr>

                        <tr>
                            <td>medical conditions</td>
                            <td>evaluate further and refer to specialists as indicated</td>
                        </tr>

                    </table>
                </div>

                <div class="mdl-card__supporting-text mdl-card--border">
                    <b>More than one PEDS concern or Q-CHAT-10 postive</b>
                    <ul>
                        <li>refer to paediatrician for further developmental assessment</li>
                        <li>refer to local supported play group or other early intervention services</li>
                    </ul>
                </div>

                <div class="mdl-card__supporting-text mdl-card--border">
                    <b>Has hearing been tested in last 6 months?</b>
                    If not, refer for hearing assessment
                </div>
            </div>


            <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col wmg-dynamic-height">
                <div class="mdl-card__title">
                    <h2 class="mdl-card__title-text">
                        On balance do you think this child has developmental concerns that warrant intervention?
                    </h2>
                </div>
            </div>

            <div class="mdl-card mdl-shadow--2dp mdl-card--border mdl-cell mdl-cell--12-col wmg-dynamic-height">
                <div class="mdl-card__title">
                    <h2 class="mdl-card__title-text">
                        Do you think this family needs additional support to cater for the child’s needs?
                    </h2>
                </div>

                <div class="mdl-card__actions mdl-card--border">
                    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"
                       href="http://raisingchildren.net.au/">rasingchildren.net.au</a>
                </div>
            </div>
        </md-content>
    </md-tab>

    <md-tab ng-repeat="x in result.getCompletedQuestionaires() track by x.questionaire.id"
            label="Answers for {{x.questionaire.title}}">

        <div class="mdl-grid wmg-content">
            <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
                <thead>
                <tr>
                    <th class="mdl-data-table__cell--non-numeric">Question</th>
                    <th>Answer</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="question in x.questionaire.questions track by question.id"
                    class="answer-row__{{result.getQuestionResult(question, x.answers)}}">
                    <td class="mdl-data-table__cell--non-numeric">{{question.text}}</td>
                    <td>{{result.getAnswer(question, x.answers).text}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </md-tab>
</md-tabs>