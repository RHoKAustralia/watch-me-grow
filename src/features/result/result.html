<md-card>

    <md-card-title>
        <md-card-title-text>
            <span class="md-headline">Questionnaire</span>
        </md-card-title-text>
    </md-card-title>
    <md-card-content>
        {{controller.questionnaire.description}}
    </md-card-content>
</md-card>

<md-card>
    <md-card-title>
        <md-card-title-text>
            <span class="md-headline">Result</span>
        </md-card-title-text>
    </md-card-title>
    <md-card-content>
        <div layout="row" layout-align="left center">
            <div class="wmg-result-card__flag-container md-media-lg" ng-class="{
                              'wmg-red': controller.overallResult === 'RED_FLAG',
                              'wmg-amber':  controller.overallResult === 'AMBER_FLAG',
                              'wmg-no':  controller.overallResult === 'NO_FLAG'}">
                <i class="material-icons">flag</i>

                <div ng-switch="controller.overallResult">
                    <span ng-switch-when="RED_FLAG">Red Flag</span>
                    <span ng-switch-when="AMBER_FLAG">Amber Flag</span>
                    <span ng-switch-when="NO_FLAG">No Concerns</span>
                    <span ng-switch-when="INCOMPLETE">Not Completed</span>
                </div>
            </div>


            <div>
                <div ng-switch="controller.overallResult">
                    <p ng-switch-when="RED_FLAG">Your test result indicates concerns - we recommend that you consult your paediatrician.</p>

                    <p ng-switch-when="AMBER_FLAG">Your test result indicates some concerns - we recommend that you consult your paediatrician.</p>

                    <p ng-switch-when="NO_FLAG">Your test indicates no concerns</p>

                    <p ng-switch-when="INCOMPLETE">Not Completed</p>
                </div>
            </div>
        </div>

        <div>
            <h3>Relevant Links</h3>
            <md-button class="md-primary md-raised"
                       href="http://www.resourcingparents.nsw.gov.au/page/love-talk-sing-read-play">
                PHR anticipatory guidelines
            </md-button>
            <md-button class="md-raised md-primary" href="http://raisingchildren.net.au/">raisingchildren.net.au
            </md-button>
        </div>
    </md-card-content>
</md-card>


<md-card>
    <md-card-title>
        <md-card-title-text>
            <span class="md-headline">Answers</span>
        </md-card-title-text>
    </md-card-title>
    <md-card-content>
        <table>
            <thead>
            <tr>
                <th>Question</th>
                <th>Answer</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat-start="question in controller.questions track by question.metadata.id"
                class="wmg-answer-row"
                ng-class="{
                      'wmg-answer-row--red': question.answer.metadata.redFlagQuestion,
                      'wmg-answer-row--amber': question.answer.metadata.amberFlagQuestion
                    }">
                <td>{{question.metadata.text}}</td>
                <td>{{question.answer.metadata.text}}</td>
            </tr>
            <tr ng-if="question.answer.comments" ng-repeat-end>
                <td colspan="2">Comments: {{question.answer.comments}}</td>
            </tr>
            </tbody>
        </table>
    </md-card-content>
</md-card>